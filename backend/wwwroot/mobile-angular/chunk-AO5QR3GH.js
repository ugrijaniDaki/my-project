import{a as H,b as G}from"./chunk-U67L3PIY.js";import{a as N,b as W,c as K,d as J,e as F,f as Q,g as X,h as ee,i as Y,o as te,p as ne,q as ie,r as oe,s as ae,t as B}from"./chunk-OY7HOH2P.js";import"./chunk-CLVFLP2U.js";import{b as I}from"./chunk-O6QJKGEF.js";import{Dc as j,Ec as R,Fa as D,Fc as A,Hb as z,Qa as x,Ra as f,Sa as q,Ta as E,Ua as T,V as _,Va as m,Vb as V,Wa as t,Xa as i,Ya as w,Z as p,_ as g,ab as M,cb as h,db as d,ea as k,ob as Z,qa as U,qb as r,rb as u,sb as y,ta as a,tb as $,ub as v,vb as P,wb as S}from"./chunk-K3PKNQYH.js";function pe(s,o){if(s&1&&(t(0,"div",8),r(1),i()),s&2){let e=d(2);a(),u(e.error)}}function ge(s,o){if(s&1){let e=M();t(0,"div",3)(1,"div",4)(2,"h2"),r(3),i(),t(4,"p"),r(5),i()(),t(6,"form",5),h("ngSubmit",function(){p(e);let n=d();return g(n.login())}),t(7,"input",6),S("ngModelChange",function(n){p(e);let c=d();return P(c.loginEmail,n)||(c.loginEmail=n),g(n)}),i(),t(8,"input",7),S("ngModelChange",function(n){p(e);let c=d();return P(c.loginPassword,n)||(c.loginPassword=n),g(n)}),i(),x(9,pe,2,1,"div",8),t(10,"button",9),r(11),i()(),t(12,"div",10)(13,"p"),r(14),i(),t(15,"button",11),h("click",function(){p(e);let n=d();return g(n.mode="register")}),r(16),i()()()}if(s&2){let e=d();a(3),u(e.i18n.t().auth.loginTitle),a(2),u(e.i18n.t().auth.loginSubtitle),a(2),v("ngModel",e.loginEmail),m("placeholder",e.i18n.t().auth.email),a(),v("ngModel",e.loginPassword),m("placeholder",e.i18n.t().auth.password),a(),f(e.error?9:-1),a(),m("disabled",e.loading),a(),y(" ",e.loading?e.i18n.t().auth.loggingIn:e.i18n.t().auth.login," "),a(3),u(e.i18n.t().auth.noAccount),a(2),u(e.i18n.t().auth.register)}}function ue(s,o){if(s&1&&(t(0,"div",8),r(1),i()),s&2){let e=d(2);a(),u(e.error)}}function me(s,o){if(s&1){let e=M();t(0,"div",3)(1,"div",4)(2,"h2"),r(3),i(),t(4,"p"),r(5),i()(),t(6,"form",5),h("ngSubmit",function(){p(e);let n=d();return g(n.register())}),t(7,"input",12),S("ngModelChange",function(n){p(e);let c=d();return P(c.regName,n)||(c.regName=n),g(n)}),i(),t(8,"input",6),S("ngModelChange",function(n){p(e);let c=d();return P(c.regEmail,n)||(c.regEmail=n),g(n)}),i(),t(9,"input",13),S("ngModelChange",function(n){p(e);let c=d();return P(c.regPhone,n)||(c.regPhone=n),g(n)}),i(),t(10,"input",14),S("ngModelChange",function(n){p(e);let c=d();return P(c.regPassword,n)||(c.regPassword=n),g(n)}),i(),x(11,ue,2,1,"div",8),t(12,"button",9),r(13),i()(),t(14,"div",10)(15,"p"),r(16),i(),t(17,"button",11),h("click",function(){p(e);let n=d();return g(n.mode="login")}),r(18),i()()()}if(s&2){let e=d();a(3),u(e.i18n.t().auth.registerTitle),a(2),u(e.i18n.t().auth.registerSubtitle),a(2),v("ngModel",e.regName),m("placeholder",e.i18n.t().auth.name),a(),v("ngModel",e.regEmail),m("placeholder",e.i18n.t().auth.email),a(),v("ngModel",e.regPhone),m("placeholder",e.i18n.t().auth.phone),a(),v("ngModel",e.regPassword),m("placeholder",e.i18n.t().auth.passwordHint),a(),f(e.error?11:-1),a(),m("disabled",e.loading),a(),y(" ",e.loading?e.i18n.t().auth.registering:e.i18n.t().auth.register," "),a(3),u(e.i18n.t().auth.hasAccount),a(2),u(e.i18n.t().auth.login)}}var O=class s{authService=_(G);dialogRef=_(oe);cdr=_(z);ngZone=_(k);i18n=_(A);mode="register";error="";loading=!1;loginEmail="";loginPassword="";regName="";regEmail="";regPhone="";regPassword="";close(){this.dialogRef.close(!1)}login(){if(!this.loginEmail||!this.loginPassword){this.error=this.i18n.t().auth.fillAllFields,this.cdr.detectChanges();return}this.loading=!0,this.error="",this.cdr.detectChanges(),this.authService.login(this.loginEmail,this.loginPassword).subscribe({next:()=>{this.ngZone.run(()=>{this.loading=!1,this.cdr.detectChanges(),this.dialogRef.close(!0)})},error:o=>{this.ngZone.run(()=>{this.loading=!1,this.error=o.error?.error||this.i18n.t().auth.loginError,this.cdr.detectChanges()})}})}register(){if(!this.regName||!this.regEmail||!this.regPhone||!this.regPassword){this.error=this.i18n.t().auth.fillAllFields,this.cdr.detectChanges();return}if(this.regPassword.length<6){this.error=this.i18n.t().auth.passwordTooShort,this.cdr.detectChanges();return}this.loading=!0,this.error="",this.cdr.detectChanges(),this.authService.register({name:this.regName,email:this.regEmail,phone:this.regPhone,password:this.regPassword}).subscribe({next:()=>{this.ngZone.run(()=>{this.loading=!1,this.cdr.detectChanges(),this.dialogRef.close(!0)})},error:o=>{this.ngZone.run(()=>{this.loading=!1,this.error=o.error?.error||this.i18n.t().auth.registerError,this.cdr.detectChanges()})}})}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=D({type:s,selectors:[["app-auth-dialog"]],decls:7,vars:2,consts:[[1,"auth-dialog"],[1,"dialog-header"],[1,"back-btn",3,"click"],[1,"form-container"],[1,"form-title"],[1,"auth-form",3,"ngSubmit"],["type","email","name","email","required","",1,"form-input",3,"ngModelChange","ngModel","placeholder"],["type","password","name","password","required","",1,"form-input",3,"ngModelChange","ngModel","placeholder"],[1,"error-message"],["type","submit",1,"submit-btn",3,"disabled"],[1,"switch-mode"],[3,"click"],["type","text","name","name","required","",1,"form-input",3,"ngModelChange","ngModel","placeholder"],["type","tel","name","phone","required","",1,"form-input",3,"ngModelChange","ngModel","placeholder"],["type","password","name","password","required","","minlength","6",1,"form-input",3,"ngModelChange","ngModel","placeholder"]],template:function(e,l){e&1&&(t(0,"div",0)(1,"div",1)(2,"button",2),h("click",function(){return l.close()}),t(3,"mat-icon"),r(4,"arrow_back"),i()()(),x(5,ge,17,11,"div",3),x(6,me,19,15,"div",3),i()),e&2&&(a(5),f(l.mode==="login"?5:-1),a(),f(l.mode==="register"?6:-1))},dependencies:[V,Y,Q,N,W,K,X,ee,F,J,I,R,j,B,H],styles:[".auth-dialog[_ngcontent-%COMP%]{background:#fff;min-height:100vh;min-height:100dvh;padding:20px;padding-bottom:env(safe-area-inset-bottom,20px);overflow-y:auto;-webkit-overflow-scrolling:touch}.dialog-header[_ngcontent-%COMP%]{margin-bottom:32px}.back-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f5f5f4;border:none;display:flex;align-items:center;justify-content:center;color:#78716c;cursor:pointer}.form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.form-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.form-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:300;text-transform:uppercase;letter-spacing:.3em;color:#1c1917;margin-bottom:8px}.form-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;color:#a8a29e}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.form-input[_ngcontent-%COMP%]{width:100%;padding:16px 20px;background:#fafaf9;border:none;border-radius:12px;font-size:14px;color:#1c1917;outline:none;font-family:inherit}.form-input[_ngcontent-%COMP%]::placeholder{color:#a8a29e}.form-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px #1c19171a}.error-message[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;padding:12px 16px;border-radius:12px;font-size:13px;text-align:center}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:18px;background:#1c1917;color:#fff;border:none;border-radius:12px;font-size:10px;font-weight:500;text-transform:uppercase;letter-spacing:.3em;cursor:pointer;margin-top:8px}.submit-btn[_ngcontent-%COMP%]:disabled{background:#a8a29e;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:active:not(:disabled){background:#292524}.switch-mode[_ngcontent-%COMP%]{text-align:center;margin-top:32px;padding-top:24px;border-top:1px solid #f5f5f4}.switch-mode[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;color:#a8a29e;margin-bottom:8px}.switch-mode[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;font-size:12px;color:#1c1917;font-weight:500;cursor:pointer}"]})};var he=(s,o)=>o.dateStr,_e=(s,o)=>o.time;function xe(s,o){if(s&1){let e=M();t(0,"div",5)(1,"div",39)(2,"div",40),r(3),i(),t(4,"span"),r(5),i()(),t(6,"button",41),h("click",function(){p(e);let n=d(2);return g(n.logout())}),t(7,"mat-icon"),r(8,"logout"),i()()()}if(s&2){let e=d(2);a(3),u(e.authService.currentUser.name.charAt(0)),a(2),u(e.authService.currentUser.name)}}function fe(s,o){if(s&1&&(t(0,"span"),r(1),i()),s&2){let e=o.$implicit;a(),u(e)}}function Ce(s,o){if(s&1){let e=M();t(0,"button",42),h("click",function(){let n=p(e).$implicit,c=d(2);return g(c.selectDate(n))}),r(1),i()}if(s&2){let e=o.$implicit;Z("available",e.status==="available")("limited",e.status==="limited")("full",e.status==="full")("closed",e.status==="closed")("past",e.status==="past")("disabled",e.status==="disabled")("today",e.isToday)("selected",e.isSelected),m("disabled",e.status==="disabled"||e.status==="past"||e.status==="closed"||e.status==="full"),a(),y(" ",e.day||""," ")}}function be(s,o){if(s&1&&(t(0,"div",20),r(1),i()),s&2){let e=d(2);a(),y(" ",e.formatSelectedDate()," ")}}function Me(s,o){s&1&&(t(0,"div",22)(1,"mat-icon",43),r(2,"sync"),i(),t(3,"p"),r(4,"U\u010Ditavam termine..."),i(),t(5,"p",44),r(6,"Molimo pri\u010Dekajte..."),i()())}function ve(s,o){if(s&1){let e=M();t(0,"div",23)(1,"mat-icon"),r(2,"cloud_off"),i(),t(3,"p"),r(4,"Gre\u0161ka pri u\u010Ditavanju"),i(),t(5,"button",45),h("click",function(){p(e);let n=d(2);return g(n.loadSlots(n.selectedDate))}),t(6,"mat-icon"),r(7,"refresh"),i(),r(8," Poku\u0161aj ponovo "),i()()}}function Pe(s,o){if(s&1&&(t(0,"div",24)(1,"p",46),r(2,"Zatvoreno"),i(),t(3,"p",47),r(4),i()()),s&2){let e=d(2);a(4),u(e.closedReason||"Restoran ne radi ovaj dan")}}function Se(s,o){if(s&1){let e=M();t(0,"button",49),h("click",function(){let n=p(e).$implicit,c=d(3);return g(c.selectSlot(n.time))}),t(1,"span",50),r(2),i(),t(3,"span",51),r(4),i()()}if(s&2){let e=o.$implicit,l=d(3);Z("available",e.available>0)("full",e.available<=0)("selected",l.selectedSlot===e.time),m("disabled",e.available<=0),a(2),u(e.time),a(2),u(e.available>0?"Slobodno":"Popunjeno")}}function we(s,o){if(s&1&&(t(0,"div",25),E(1,Se,5,9,"button",48,_e),i()),s&2){let e=d(2);a(),T(e.slots)}}function ye(s,o){if(s&1){let e=M();t(0,"header",2)(1,"h1"),r(2,"Aura"),i(),w(3,"div",3),t(4,"p",4),r(5,"Sezona 2026."),i()(),x(6,xe,9,2,"div",5),t(7,"section",6)(8,"label"),r(9,"Odaberite datum"),i(),t(10,"div",7)(11,"button",8),h("click",function(){p(e);let n=d();return g(n.prevMonth())}),t(12,"mat-icon"),r(13,"chevron_left"),i()(),t(14,"span",9),r(15),i(),t(16,"button",8),h("click",function(){p(e);let n=d();return g(n.nextMonth())}),t(17,"mat-icon"),r(18,"chevron_right"),i()()(),t(19,"div",10)(20,"div",11),E(21,fe,2,1,"span",null,q),i(),t(23,"div",12),E(24,Ce,2,18,"button",13,he),i()(),t(26,"div",14)(27,"div",15),w(28,"span",16),r(29,"Dostupno"),i(),t(30,"div",15),w(31,"span",17),r(32,"Ograni\u010Deno"),i(),t(33,"div",15),w(34,"span",18),r(35,"Popunjeno"),i(),t(36,"div",15),w(37,"span",19),r(38,"Zatvoreno"),i()(),x(39,be,2,1,"div",20),i(),t(40,"section",21)(41,"label"),r(42,"Dostupni termini"),i(),x(43,Me,7,0,"div",22),x(44,ve,9,0,"div",23),x(45,Pe,5,1,"div",24),x(46,we,3,0,"div",25),i(),t(47,"section",26)(48,"label"),r(49,"Broj gostiju"),i(),t(50,"div",27)(51,"button",28),h("click",function(){p(e);let n=d();return g(n.updateGuests(-1))}),r(52,"\u2212"),i(),t(53,"span",29),r(54),i(),t(55,"button",28),h("click",function(){p(e);let n=d();return g(n.updateGuests(1))}),r(56,"+"),i()()(),t(57,"section",30)(58,"label"),r(59,"Posebni zahtjevi (opcionalno)"),i(),t(60,"textarea",31),S("ngModelChange",function(n){p(e);let c=d();return P(c.notes,n)||(c.notes=n),g(n)}),i()(),t(61,"section",32)(62,"div",33)(63,"div")(64,"p",34),r(65,"Cijena po osobi"),i(),t(66,"p",35),r(67,"95,00 \u20AC"),i()(),t(68,"div",36)(69,"p",34),r(70,"Ukupno"),i(),t(71,"p",37),r(72),i()()()(),t(73,"button",38),h("click",function(){p(e);let n=d();return g(n.submitReservation())}),r(74),i()}if(s&2){let e=d();a(6),f(e.authService.currentUser?6:-1),a(5),m("disabled",!e.canGoPrev),a(4),$("",e.monthNames[e.currentMonth]," ",e.currentYear),a(),m("disabled",!e.canGoNext),a(5),T(e.weekdays),a(3),T(e.calendarDays),a(15),f(e.selectedDate?39:-1),a(4),f(e.loadingSlots?43:-1),a(),f(e.slotsError&&!e.loadingSlots?44:-1),a(),f(e.isClosed&&!e.loadingSlots?45:-1),a(),f(!e.loadingSlots&&!e.isClosed&&e.slots.length>0?46:-1),a(5),m("disabled",e.guests<=1),a(3),u(e.guests),a(),m("disabled",e.guests>=8),a(5),v("ngModel",e.notes),a(12),y("",(e.guests*95).toFixed(2).replace(".",",")," \u20AC"),a(),m("disabled",!e.canSubmit||e.loading),a(),y(" ",e.loading?"\u0160aljem...":e.canSubmit?"Potvrdi rezervaciju":"Odaberite termin"," ")}}function Oe(s,o){if(s&1&&(t(0,"div",1),w(1,"div",52),t(2,"h2"),r(3,"Uspje\u0161no"),i(),w(4,"div",53),t(5,"button",54),r(6,"Natrag na po\u010Detnu"),i()()),s&2){let e=d();a(4),m("innerHTML",e.successMessage,U)}}var re=class s{apiService=_(ie);authService=_(G);dialog=_(ae);snackBar=_(te);cdr=_(z);ngZone=_(k);i18n=_(A);currentMonth=new Date().getMonth();currentYear=new Date().getFullYear();calendarDays=[];monthNames=["Sije\u010Danj","Velja\u010Da","O\u017Eujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"];monthNamesGenitive=["Sije\u010Dnja","Velja\u010De","O\u017Eujka","Travnja","Svibnja","Lipnja","Srpnja","Kolovoza","Rujna","Listopada","Studenog","Prosinca"];dayNames=["Nedjelja","Ponedjeljak","Utorak","Srijeda","\u010Cetvrtak","Petak","Subota"];weekdays=["Pon","Uto","Sri","\u010Cet","Pet","Sub","Ned"];today=new Date;maxDate=new Date(2026,11,31);selectedDate=null;selectedSlot=null;slots=[];loadingSlots=!1;slotsError=!1;isClosed=!1;closedReason="";guests=2;notes="";loading=!1;success=!1;successMessage="";get canGoPrev(){return this.currentYear>this.today.getFullYear()||this.currentYear===this.today.getFullYear()&&this.currentMonth>this.today.getMonth()}get canGoNext(){return this.currentYear<2026||this.currentYear===2026&&this.currentMonth<11}get canSubmit(){return!!this.selectedDate&&!!this.selectedSlot}ngOnInit(){this.today.setHours(0,0,0,0),this.buildCalendar(),this.authService.currentUser||setTimeout(()=>this.showAuthDialog(),100);let o=this.formatDate(this.today);this.selectedDate=o,this.loadSlots(o),setTimeout(()=>this.loadMonthAvailability(),2e3)}showAuthDialog(){this.dialog.open(O,{maxWidth:"100vw",maxHeight:"100vh",width:"100%",height:"100%",panelClass:"fullscreen-dialog",disableClose:!1}).afterClosed().subscribe(o=>{this.cdr.detectChanges()})}prevMonth(){this.canGoPrev&&(this.currentMonth--,this.currentMonth<0&&(this.currentMonth=11,this.currentYear--),this.buildCalendar(),this.loadMonthAvailability())}nextMonth(){this.canGoNext&&(this.currentMonth++,this.currentMonth>11&&(this.currentMonth=0,this.currentYear++),this.buildCalendar(),this.loadMonthAvailability())}buildCalendar(){this.calendarDays=[];let e=new Date(this.currentYear,this.currentMonth,1).getDay()-1;e<0&&(e=6);let l=new Date(this.currentYear,this.currentMonth+1,0).getDate();for(let n=0;n<e;n++)this.calendarDays.push({date:new Date,day:0,dateStr:"",status:"disabled",isToday:!1,isSelected:!1});for(let n=1;n<=l;n++){let c=new Date(this.currentYear,this.currentMonth,n),b=this.formatDate(c),C=c<this.today,L=c.toDateString()===this.today.toDateString();this.calendarDays.push({date:c,day:n,dateStr:b,status:C?"past":"available",isToday:L,isSelected:this.selectedDate===b})}}loadMonthAvailability(){let o=new Date(this.currentYear,this.currentMonth,1),e=new Date(this.currentYear,this.currentMonth+1,0),l=this.formatDate(o),n=this.formatDate(e);this.apiService.getCalendarStatus(l,n).subscribe({next:c=>{this.ngZone.run(()=>{!c||c.length===0||(c.forEach(b=>{let C=this.calendarDays.find(L=>L.dateStr===b.date);!C||C.status==="disabled"||C.status==="past"||(b.isClosed?C.status="closed":b.availableSlots===0?C.status="full":b.availableSlots<b.totalSlots/2?C.status="limited":C.status="available")}),this.cdr.detectChanges())})},error:()=>{}})}selectDate(o){o.status==="disabled"||o.status==="past"||o.status==="closed"||o.status==="full"||(this.calendarDays.forEach(e=>e.isSelected=!1),o.isSelected=!0,this.selectedDate=o.dateStr,this.selectedSlot=null,this.loadSlots(o.dateStr))}loadSlots(o){this.loadingSlots=!0,this.slotsError=!1,this.isClosed=!1,this.slots=[],this.cdr.detectChanges(),this.apiService.getAvailableSlots(o).subscribe({next:e=>{this.ngZone.run(()=>{this.loadingSlots=!1,this.slotsError=!1,e.isClosed?(this.isClosed=!0,this.closedReason=e.reason||""):this.slots=e.allSlots||e.slots||[],this.cdr.detectChanges()})},error:()=>{this.ngZone.run(()=>{this.loadingSlots=!1,this.slotsError=!0,this.cdr.detectChanges()})}})}selectSlot(o){this.selectedSlot=o}updateGuests(o){let e=this.guests+o;e>=1&&e<=8&&(this.guests=e)}formatDate(o){let e=o.getFullYear(),l=String(o.getMonth()+1).padStart(2,"0"),n=String(o.getDate()).padStart(2,"0");return`${e}-${l}-${n}`}formatSelectedDate(){if(!this.selectedDate)return"";let o=new Date(this.selectedDate+"T12:00:00"),e=this.dayNames[o.getDay()],l=o.getDate(),n=this.monthNamesGenitive[o.getMonth()],c=o.getFullYear();return`${e}, ${l}. ${n} ${c}`}logout(){this.authService.logout().subscribe()}submitReservation(){if(!this.authService.currentUser){this.dialog.open(O,{maxWidth:"100vw",maxHeight:"100vh",width:"100%",height:"100%",panelClass:"fullscreen-dialog"}).afterClosed().subscribe(e=>{e&&this.submitReservation()});return}if(!this.selectedDate||!this.selectedSlot)return;this.loading=!0;let o={date:this.selectedDate,time:this.selectedSlot,guests:this.guests,specialRequests:this.notes||void 0};this.apiService.createReservation(o).subscribe({next:()=>{this.loading=!1,this.success=!0;let e=new Date(this.selectedDate+"T12:00:00"),l=this.dayNames[e.getDay()],n=e.getDate(),c=this.monthNamesGenitive[e.getMonth()],b=e.getFullYear(),C=(this.guests*95).toFixed(2).replace(".",",");this.successMessage=`
          Va\u0161a rezervacija za <b>${this.guests} ${this.guests===1?"osobu":this.guests<5?"osobe":"osoba"}</b> je zaprimljena.<br><br>
          <span style="color:#a8a29e;text-transform:uppercase;letter-spacing:0.2em;font-size:10px">Datum:</span><br>
          <b>${l}, ${n}. ${c} ${b}</b><br><br>
          <span style="color:#a8a29e;text-transform:uppercase;letter-spacing:0.2em;font-size:10px">Termin:</span><br>
          <b>${this.selectedSlot}</b><br><br>
          <span style="color:#a8a29e;text-transform:uppercase;letter-spacing:0.2em;font-size:10px">Ukupni iznos:</span><br>
          <span style="font-size:16px">${C} \u20AC</span><br><br>
          <span style="color:#a8a29e;font-size:9px">Potvrda je poslana na ${this.authService.currentUser?.email}</span>
        `},error:e=>{this.loading=!1,this.snackBar.open(e.error?.error||"Gre\u0161ka pri rezervaciji","OK",{duration:3e3})}})}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=D({type:s,selectors:[["app-reservation"]],decls:3,vars:2,consts:[[1,"reservation-page"],[1,"success-screen"],[1,"res-header"],[1,"divider"],[1,"season"],[1,"user-bar"],[1,"calendar-section"],[1,"calendar-nav"],[1,"nav-btn",3,"click","disabled"],[1,"month-label"],[1,"calendar-grid"],[1,"weekday-header"],[1,"days-grid"],[1,"cal-day",3,"available","limited","full","closed","past","disabled","today","selected"],[1,"legend"],[1,"legend-item"],[1,"dot","available"],[1,"dot","limited"],[1,"dot","full"],[1,"dot","closed"],[1,"selected-date-display"],[1,"slots-section"],[1,"loading-slots"],[1,"error-slots"],[1,"closed-message"],[1,"slots-grid"],[1,"guests-section"],[1,"guest-counter"],[1,"counter-btn",3,"click","disabled"],[1,"guest-count"],[1,"notes-section"],["placeholder","Alergije, posebne prigode...",3,"ngModelChange","ngModel"],[1,"price-section"],[1,"price-row"],[1,"price-label"],[1,"price-value"],[1,"price-total"],[1,"total-value"],[1,"submit-btn",3,"click","disabled"],[1,"user-info"],[1,"user-avatar"],[1,"logout-btn",3,"click"],[1,"cal-day",3,"click","disabled"],[1,"spin"],[1,"loading-hint"],[1,"retry-btn",3,"click"],[1,"closed-title"],[1,"closed-reason"],[1,"slot-btn",3,"available","full","selected","disabled"],[1,"slot-btn",3,"click","disabled"],[1,"slot-time"],[1,"slot-status"],[1,"success-divider"],[1,"success-summary",3,"innerHTML"],["routerLink","/home",1,"back-btn"]],template:function(e,l){e&1&&(t(0,"div",0),x(1,ye,75,17),x(2,Oe,7,1,"div",1),i()),e&2&&(a(),f(l.success?-1:1),a(),f(l.success?2:-1))},dependencies:[V,Y,N,W,F,I,R,j,B,ne],styles:[".reservation-page[_ngcontent-%COMP%]{background:#fff;min-height:100vh;padding:32px 24px 120px;border-radius:32px;margin:16px;box-shadow:0 20px 40px #0000000d}.res-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.res-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;font-weight:300;letter-spacing:.4em;text-transform:uppercase;color:#1c1917}.res-header[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{width:40px;height:1px;background:#d6d3d1;margin:16px auto}.res-header[_ngcontent-%COMP%]   .season[_ngcontent-%COMP%]{font-size:10px;text-transform:uppercase;letter-spacing:.2em;color:#a8a29e;font-style:italic}.user-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#fafaf9;padding:8px 12px 8px 16px;border-radius:50px;margin-bottom:24px}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.user-avatar[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;background:#e5e5e5;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:600;color:#78716c}.user-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:#78716c;font-weight:500}.logout-btn[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;background:transparent;border:none;display:flex;align-items:center;justify-content:center;color:#a8a29e;cursor:pointer}.logout-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}section[_ngcontent-%COMP%]{margin-bottom:24px}label[_ngcontent-%COMP%]{display:block;font-size:9px;text-transform:uppercase;letter-spacing:.2em;color:#a8a29e;margin-bottom:12px}.calendar-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.nav-btn[_ngcontent-%COMP%]{width:36px;height:36px;border:none;background:transparent;color:#a8a29e;cursor:pointer;display:flex;align-items:center;justify-content:center}.nav-btn[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.month-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#1c1917}.calendar-grid[_ngcontent-%COMP%]{background:#fafaf9;border-radius:16px;padding:16px}.weekday-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;margin-bottom:8px}.weekday-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center;font-size:10px;color:#a8a29e;font-weight:500;padding:8px 0}.days-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:4px}.cal-day[_ngcontent-%COMP%]{aspect-ratio:1;border:none;border-radius:10px;font-size:13px;font-weight:500;cursor:pointer;transition:all .2s ease}.cal-day.available[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.cal-day.limited[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.cal-day.full[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b;cursor:not-allowed}.cal-day.closed[_ngcontent-%COMP%]{background:#e5e5e5;color:#737373;text-decoration:line-through;cursor:not-allowed}.cal-day.past[_ngcontent-%COMP%], .cal-day.disabled[_ngcontent-%COMP%]{background:transparent;color:#d6d3d1;cursor:not-allowed}.cal-day.today[_ngcontent-%COMP%]:not(.selected){outline:2px solid #1C1917;outline-offset:-2px}.cal-day.selected[_ngcontent-%COMP%]{background:#1c1917!important;color:#fff!important;font-weight:700}.legend[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:12px;margin-top:16px}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:9px;color:#78716c}.dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:4px}.dot.available[_ngcontent-%COMP%]{background:#d1fae5}.dot.limited[_ngcontent-%COMP%]{background:#fef3c7}.dot.full[_ngcontent-%COMP%]{background:#fee2e2}.dot.closed[_ngcontent-%COMP%]{background:#e5e5e5}.selected-date-display[_ngcontent-%COMP%]{background:#1c1917;color:#fff;text-align:center;padding:14px;border-radius:12px;margin-top:16px;font-size:13px;font-weight:500}.loading-slots[_ngcontent-%COMP%], .closed-message[_ngcontent-%COMP%]{text-align:center;padding:24px;color:#a8a29e}.loading-slots[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .closed-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.loading-slots[_ngcontent-%COMP%]   .spin[_ngcontent-%COMP%], .closed-message[_ngcontent-%COMP%]   .spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-slots[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .closed-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:8px;font-size:13px}.loading-slots[_ngcontent-%COMP%]   .loading-hint[_ngcontent-%COMP%], .closed-message[_ngcontent-%COMP%]   .loading-hint[_ngcontent-%COMP%]{font-size:11px;color:#d6d3d1}.error-slots[_ngcontent-%COMP%]{text-align:center;padding:24px;background:#fafaf9;border-radius:16px;color:#a8a29e}.error-slots[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:#d6d3d1}.error-slots[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:12px;font-size:13px}.error-slots[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]{margin-top:12px;display:inline-flex;align-items:center;gap:6px;padding:10px 20px;background:#1c1917;color:#fff;border:none;border-radius:50px;font-size:12px;cursor:pointer}.error-slots[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#fff}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.closed-message[_ngcontent-%COMP%]{background:#fef2f2;border-radius:16px}.closed-message[_ngcontent-%COMP%]   .closed-title[_ngcontent-%COMP%]{color:#dc2626;font-weight:500;font-size:14px}.closed-message[_ngcontent-%COMP%]   .closed-reason[_ngcontent-%COMP%]{color:#f87171;font-size:12px}.slots-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}.slot-btn[_ngcontent-%COMP%]{padding:12px 8px;border-radius:12px;border:none;cursor:pointer;transition:all .2s ease;text-align:center}.slot-btn[_ngcontent-%COMP%]   .slot-time[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;margin-bottom:2px}.slot-btn[_ngcontent-%COMP%]   .slot-status[_ngcontent-%COMP%]{display:block;font-size:10px}.slot-btn.available[_ngcontent-%COMP%]{background:#ecfdf5}.slot-btn.available[_ngcontent-%COMP%]   .slot-time[_ngcontent-%COMP%]{color:#059669}.slot-btn.available[_ngcontent-%COMP%]   .slot-status[_ngcontent-%COMP%]{color:#10b981}.slot-btn.full[_ngcontent-%COMP%]{background:#fef2f2}.slot-btn.full[_ngcontent-%COMP%]   .slot-time[_ngcontent-%COMP%]{color:#f87171;text-decoration:line-through}.slot-btn.full[_ngcontent-%COMP%]   .slot-status[_ngcontent-%COMP%]{color:#ef4444}.slot-btn.full[_ngcontent-%COMP%]{cursor:not-allowed}.slot-btn.selected[_ngcontent-%COMP%]{background:#1c1917;box-shadow:0 4px 12px #1c19174d}.slot-btn.selected[_ngcontent-%COMP%]   .slot-time[_ngcontent-%COMP%], .slot-btn.selected[_ngcontent-%COMP%]   .slot-status[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.guest-counter[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border:1px solid #f5f5f4;border-radius:16px;padding:8px}.counter-btn[_ngcontent-%COMP%]{width:48px;height:48px;border:none;background:transparent;font-size:20px;color:#a8a29e;cursor:pointer}.counter-btn[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.counter-btn[_ngcontent-%COMP%]:active:not(:disabled){color:#1c1917}.guest-count[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#1c1917}textarea[_ngcontent-%COMP%]{width:100%;padding:16px;background:#fafaf9;border:none;border-radius:16px;font-size:14px;color:#1c1917;resize:none;font-family:inherit;outline:none}textarea[_ngcontent-%COMP%]::placeholder{color:#a8a29e}.price-section[_ngcontent-%COMP%]{padding-top:16px;border-top:1px solid #fafaf9}.price-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end}.price-label[_ngcontent-%COMP%]{font-size:9px;text-transform:uppercase;letter-spacing:.2em;color:#a8a29e;margin-bottom:4px}.price-value[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#78716c}.price-total[_ngcontent-%COMP%]{text-align:right}.total-value[_ngcontent-%COMP%]{font-size:24px;font-weight:300;color:#1c1917}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:20px;background:#1c1917;color:#fff;border:none;border-radius:16px;font-size:10px;font-weight:500;text-transform:uppercase;letter-spacing:.4em;cursor:pointer;box-shadow:0 10px 30px #1c191733;margin-top:8px}.submit-btn[_ngcontent-%COMP%]:disabled{background:#a8a29e;cursor:not-allowed;box-shadow:none}.success-screen[_ngcontent-%COMP%]{text-align:center;padding:80px 24px}.success-screen[_ngcontent-%COMP%]   .success-divider[_ngcontent-%COMP%]{width:40px;height:1px;background:#1c1917;margin:0 auto 40px}.success-screen[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:300;text-transform:uppercase;letter-spacing:.3em;color:#1c1917;margin-bottom:24px}.success-screen[_ngcontent-%COMP%]   .success-summary[_ngcontent-%COMP%]{font-size:12px;color:#78716c;line-height:2}.success-screen[_ngcontent-%COMP%]   .success-summary[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#1c1917}.success-screen[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{margin-top:48px;background:transparent;border:none;font-size:9px;text-transform:uppercase;letter-spacing:.2em;color:#a8a29e;cursor:pointer;padding-bottom:4px;border-bottom:1px solid transparent}.success-screen[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#1c1917;border-bottom-color:#1c1917}"]})};export{re as ReservationComponent};
