// Aura Fine Dining - Internationalization (i18n)
const translations = {
  hr: {
    // Navigation
    menu: 'Menu',
    reservation: 'Rezervacija',
    contact: 'Kontakt',

    // Home
    season: 'Zagreb ‚Äî Sezona 2026',
    heroTitle: 'Okusi ti≈°ine.',
    ctaButton: 'Rezervirajte svoj stol',
    philosophy: 'Filozofija',
    philosophyTitle: 'Minimalizam na tanjuru, <br>maksimalizam u okusu.',
    philosophyText: 'Aura nije samo restoran, veƒá putovanje kroz osjetila. Svaka namirnica u sezoni 2026. pa≈æljivo je odabrana s lokalnih OPG-ova, tretirana s po≈°tovanjem i pretvorena u umjetnost.',
    exploreStory: 'Istra≈æite na≈°u priƒçu',
    quote: '"Hrana koja priƒça priƒçu o zemlji, moru i ljudima."',
    joinUs: 'Pridru≈æite nam se',
    secureSpot: 'Osigurajte termin',
    address: 'Trg Kralja Tomislava 1, Zagreb',
    hours: 'Utorak - Subota, 18:00 - 00:00',
    copyright: '¬© 2026 Aura Fine Dining. Sva prava pridr≈æana.',

    // Menu
    menuTitle: 'Degustacijski Menu',
    menuSubtitle: 'Sedam sljedova koji slave lokalnu zemlju, more i tradiciju.',
    deliveryAvailable: 'Dostava dostupna',
    orderFavorites: 'Naruƒçite svoja omiljena jela',
    starters: 'Predjela',
    mainCourses: 'Glavna jela',
    desserts: 'Deserti',
    drinks: 'Piƒáa',
    addToCart: 'Dodaj',
    cart: 'Ko≈°arica',
    emptyCart: 'Ko≈°arica je prazna',
    total: 'Ukupno',
    orderDelivery: 'Naruƒçi dostavu',

    // Reservation
    reservationTitle: 'Rezervacija',
    selectDate: 'Odaberite datum',
    selectTime: 'Odaberite termin',
    guests: 'Broj gostiju',
    specialRequests: 'Posebni zahtjevi (opcionalno)',
    specialRequestsHint: 'Alergije, posebne prigode...',
    pricePerPerson: 'Cijena po osobi',
    totalPrice: 'Ukupno',
    confirmReservation: 'Potvrdi rezervaciju',
    available: 'Dostupno',
    limited: 'Ograniƒçeno',
    full: 'Popunjeno',
    closed: 'Zatvoreno',
    free: 'Slobodno',

    // Auth
    login: 'Prijava',
    register: 'Registracija',
    loginSubtitle: 'Prijavite se za nastavak',
    registerSubtitle: 'Kreirajte raƒçun za rezervacije',
    email: 'Email adresa',
    password: 'Lozinka',
    fullName: 'Ime i prezime',
    phone: 'Telefon',
    passwordHint: 'Lozinka (min 6 znakova)',
    noAccount: 'Nemate raƒçun?',
    hasAccount: 'Imate raƒçun?',

    // Contact
    contactTitle: 'Kontakt',
    visitUs: 'Posjetite nas',
    writeUs: 'Pi≈°ite nam',
    callUs: 'Nazovite nas',

    // Checkout
    checkoutTitle: 'Dostava',
    deliveryAddress: 'Adresa dostave',
    street: 'Ulica i kuƒáni broj',
    city: 'Grad',
    note: 'Napomena',
    noteHint: 'Alergije, posebni zahtjevi...',
    order: 'Naruƒçi',

    // Days
    mon: 'Pon', tue: 'Uto', wed: 'Sri', thu: 'ƒået', fri: 'Pet', sat: 'Sub', sun: 'Ned',

    // Months
    january: 'Sijeƒçanj', february: 'Veljaƒça', march: 'O≈æujak', april: 'Travanj',
    may: 'Svibanj', june: 'Lipanj', july: 'Srpanj', august: 'Kolovoz',
    september: 'Rujan', october: 'Listopad', november: 'Studeni', december: 'Prosinac'
  },
  en: {
    // Navigation
    menu: 'Menu',
    reservation: 'Reservation',
    contact: 'Contact',

    // Home
    season: 'Zagreb ‚Äî Season 2026',
    heroTitle: 'Taste the silence.',
    ctaButton: 'Reserve your table',
    philosophy: 'Philosophy',
    philosophyTitle: 'Minimalism on the plate, <br>maximalism in taste.',
    philosophyText: 'Aura is not just a restaurant, but a journey through the senses. Every ingredient in the 2026 season is carefully selected from local farms, treated with respect and transformed into art.',
    exploreStory: 'Explore our story',
    quote: '"Food that tells a story of land, sea and people."',
    joinUs: 'Join us',
    secureSpot: 'Secure your spot',
    address: 'King Tomislav Square 1, Zagreb',
    hours: 'Tuesday - Saturday, 6:00 PM - 12:00 AM',
    copyright: '¬© 2026 Aura Fine Dining. All rights reserved.',

    // Menu
    menuTitle: 'Tasting Menu',
    menuSubtitle: 'Seven courses celebrating local land, sea and tradition.',
    deliveryAvailable: 'Delivery available',
    orderFavorites: 'Order your favorite dishes',
    starters: 'Starters',
    mainCourses: 'Main courses',
    desserts: 'Desserts',
    drinks: 'Drinks',
    addToCart: 'Add',
    cart: 'Cart',
    emptyCart: 'Cart is empty',
    total: 'Total',
    orderDelivery: 'Order delivery',

    // Reservation
    reservationTitle: 'Reservation',
    selectDate: 'Select date',
    selectTime: 'Select time',
    guests: 'Number of guests',
    specialRequests: 'Special requests (optional)',
    specialRequestsHint: 'Allergies, special occasions...',
    pricePerPerson: 'Price per person',
    totalPrice: 'Total',
    confirmReservation: 'Confirm reservation',
    available: 'Available',
    limited: 'Limited',
    full: 'Full',
    closed: 'Closed',
    free: 'Free',

    // Auth
    login: 'Login',
    register: 'Register',
    loginSubtitle: 'Log in to continue',
    registerSubtitle: 'Create an account for reservations',
    email: 'Email address',
    password: 'Password',
    fullName: 'Full name',
    phone: 'Phone',
    passwordHint: 'Password (min 6 characters)',
    noAccount: "Don't have an account?",
    hasAccount: 'Already have an account?',

    // Contact
    contactTitle: 'Contact',
    visitUs: 'Visit us',
    writeUs: 'Write to us',
    callUs: 'Call us',

    // Checkout
    checkoutTitle: 'Delivery',
    deliveryAddress: 'Delivery address',
    street: 'Street and number',
    city: 'City',
    note: 'Note',
    noteHint: 'Allergies, special requests...',
    order: 'Order',

    // Days
    mon: 'Mon', tue: 'Tue', wed: 'Wed', thu: 'Thu', fri: 'Fri', sat: 'Sat', sun: 'Sun',

    // Months
    january: 'January', february: 'February', march: 'March', april: 'April',
    may: 'May', june: 'June', july: 'July', august: 'August',
    september: 'September', october: 'October', november: 'November', december: 'December'
  },
  de: {
    // Navigation
    menu: 'Speisekarte',
    reservation: 'Reservierung',
    contact: 'Kontakt',

    // Home
    season: 'Zagreb ‚Äî Saison 2026',
    heroTitle: 'Schmecke die Stille.',
    ctaButton: 'Reservieren Sie Ihren Tisch',
    philosophy: 'Philosophie',
    philosophyTitle: 'Minimalismus auf dem Teller, <br>Maximalismus im Geschmack.',
    philosophyText: 'Aura ist nicht nur ein Restaurant, sondern eine Reise durch die Sinne. Jede Zutat der Saison 2026 wird sorgf√§ltig von lokalen Bauernh√∂fen ausgew√§hlt, mit Respekt behandelt und in Kunst verwandelt.',
    exploreStory: 'Entdecken Sie unsere Geschichte',
    quote: '"Essen, das eine Geschichte von Land, Meer und Menschen erz√§hlt."',
    joinUs: 'Besuchen Sie uns',
    secureSpot: 'Sichern Sie sich Ihren Platz',
    address: 'K√∂nig-Tomislav-Platz 1, Zagreb',
    hours: 'Dienstag - Samstag, 18:00 - 00:00',
    copyright: '¬© 2026 Aura Fine Dining. Alle Rechte vorbehalten.',

    // Menu
    menuTitle: 'Degustationsmen√º',
    menuSubtitle: 'Sieben G√§nge, die Land, Meer und Tradition feiern.',
    deliveryAvailable: 'Lieferung verf√ºgbar',
    orderFavorites: 'Bestellen Sie Ihre Lieblingsgerichte',
    starters: 'Vorspeisen',
    mainCourses: 'Hauptgerichte',
    desserts: 'Desserts',
    drinks: 'Getr√§nke',
    addToCart: 'Hinzuf√ºgen',
    cart: 'Warenkorb',
    emptyCart: 'Warenkorb ist leer',
    total: 'Gesamt',
    orderDelivery: 'Lieferung bestellen',

    // Reservation
    reservationTitle: 'Reservierung',
    selectDate: 'Datum w√§hlen',
    selectTime: 'Zeit w√§hlen',
    guests: 'Anzahl der G√§ste',
    specialRequests: 'Besondere W√ºnsche (optional)',
    specialRequestsHint: 'Allergien, besondere Anl√§sse...',
    pricePerPerson: 'Preis pro Person',
    totalPrice: 'Gesamt',
    confirmReservation: 'Reservierung best√§tigen',
    available: 'Verf√ºgbar',
    limited: 'Begrenzt',
    full: 'Voll',
    closed: 'Geschlossen',
    free: 'Frei',

    // Auth
    login: 'Anmelden',
    register: 'Registrieren',
    loginSubtitle: 'Melden Sie sich an, um fortzufahren',
    registerSubtitle: 'Erstellen Sie ein Konto f√ºr Reservierungen',
    email: 'E-Mail-Adresse',
    password: 'Passwort',
    fullName: 'Vollst√§ndiger Name',
    phone: 'Telefon',
    passwordHint: 'Passwort (mind. 6 Zeichen)',
    noAccount: 'Noch kein Konto?',
    hasAccount: 'Bereits ein Konto?',

    // Contact
    contactTitle: 'Kontakt',
    visitUs: 'Besuchen Sie uns',
    writeUs: 'Schreiben Sie uns',
    callUs: 'Rufen Sie uns an',

    // Checkout
    checkoutTitle: 'Lieferung',
    deliveryAddress: 'Lieferadresse',
    street: 'Stra√üe und Hausnummer',
    city: 'Stadt',
    note: 'Anmerkung',
    noteHint: 'Allergien, besondere W√ºnsche...',
    order: 'Bestellen',

    // Days
    mon: 'Mo', tue: 'Di', wed: 'Mi', thu: 'Do', fri: 'Fr', sat: 'Sa', sun: 'So',

    // Months
    january: 'Januar', february: 'Februar', march: 'M√§rz', april: 'April',
    may: 'Mai', june: 'Juni', july: 'Juli', august: 'August',
    september: 'September', october: 'Oktober', november: 'November', december: 'Dezember'
  }
};

// i18n Manager
const i18n = {
  currentLang: 'hr',

  init() {
    // Check localStorage first
    const saved = localStorage.getItem('aura_language');
    if (saved && translations[saved]) {
      this.currentLang = saved;
    } else {
      // Detect from browser
      const browserLang = navigator.language.split('-')[0].toLowerCase();
      if (browserLang === 'hr' || browserLang === 'bs' || browserLang === 'sr') {
        this.currentLang = 'hr';
      } else if (browserLang === 'de' || browserLang === 'at' || browserLang === 'ch') {
        this.currentLang = 'de';
      } else {
        this.currentLang = 'en';
      }
    }

    this.updatePage();
    this.createLanguageSelector();
  },

  setLanguage(lang) {
    if (translations[lang]) {
      this.currentLang = lang;
      localStorage.setItem('aura_language', lang);
      this.updatePage();
    }
  },

  t(key) {
    return translations[this.currentLang][key] || translations['hr'][key] || key;
  },

  updatePage() {
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(el => {
      const key = el.getAttribute('data-i18n');
      const translation = this.t(key);
      if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
        el.placeholder = translation;
      } else {
        el.innerHTML = translation;
      }
    });

    // Update HTML lang attribute
    document.documentElement.lang = this.currentLang;

    // Update language selector
    document.querySelectorAll('.lang-btn').forEach(btn => {
      btn.classList.toggle('active', btn.dataset.lang === this.currentLang);
    });
  },

  createLanguageSelector() {
    // Find or create language selector container
    let selector = document.getElementById('language-selector');
    if (!selector) {
      selector = document.createElement('div');
      selector.id = 'language-selector';
      selector.className = 'fixed bottom-6 right-6 z-[100] flex gap-2 bg-white/90 backdrop-blur-md p-1.5 rounded-full shadow-lg';
      document.body.appendChild(selector);
    }

    selector.innerHTML = `
      <button class="lang-btn w-8 h-8 rounded-full flex items-center justify-center text-lg transition-all ${this.currentLang === 'hr' ? 'bg-stone-900 scale-110' : ''}" data-lang="hr" onclick="i18n.setLanguage('hr')">üá≠üá∑</button>
      <button class="lang-btn w-8 h-8 rounded-full flex items-center justify-center text-lg transition-all ${this.currentLang === 'en' ? 'bg-stone-900 scale-110' : ''}" data-lang="en" onclick="i18n.setLanguage('en')">üá¨üáß</button>
      <button class="lang-btn w-8 h-8 rounded-full flex items-center justify-center text-lg transition-all ${this.currentLang === 'de' ? 'bg-stone-900 scale-110' : ''}" data-lang="de" onclick="i18n.setLanguage('de')">üá©üá™</button>
    `;
  }
};

// Initialize on DOM ready
document.addEventListener('DOMContentLoaded', () => i18n.init());
